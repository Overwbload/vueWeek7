import{j as n,k as o}from"./index-Bs_37LNX.js";import{c as p}from"./cartStore-BFUONUjG.js";const d={BASE_URL:"/vueWeek7/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_APP_API_NAME:"jasonfu-api-vuetest",VITE_APP_API_URL:"https://ec-course-api.hexschool.io/v2"},{VITE_APP_API_URL:i,VITE_APP_API_NAME:r}=d,h=n("productsStore",{state:()=>({products:[],product:[],pagination:{},loadingStatus:"",loadingIcon:"",qty:1,pageBack:!1}),actions:{renderProducts(a=1){const s=`${i}/api/${r}/products?page=${a}`;o.get(s).then(t=>{this.products=t.data.products,this.pagination=t.data.pagination,this.loadingStatus=!1}).catch(t=>{alert(t.response.data.message)})},getDetail(a){this.pageBack=!1,this.product=[],this.qty=1,this.loadingStatus=!0;const s=`${i}/api/${r}/product/${a}`;o.get(s).then(t=>{this.product=t.data.product,this.loadingStatus=!1}).catch(t=>{alert(t.response.data.message),this.loadingStatus=!1,this.pageBack=!0})},addToCart(a,s=1){this.loadingIcon=a;const t={product_id:a,qty:s},c=`${i}/api/${r}/cart`;o.post(c,{data:t}).then(e=>{p().getCartList(),alert(e.data.message),this.loadingIcon=""}).catch(e=>{alert(e.response.data.message)})},validateQty(){this.qty<1&&(this.qty=1)}}});export{h as p};
