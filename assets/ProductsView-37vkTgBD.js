import{P as b}from"./PaginationComponent-BCYel7q5.js";import{L as v}from"./LoadingOverlay-BPLoJJX8.js";import{p as l}from"./productsStore-BugssEOs.js";import{_ as f,m as y,f as k,r as c,o as e,c as s,b as u,a as t,F as p,g as P,n as C,t as a,e as i,d as $}from"./index-Bvi3KzUi.js";import"./cartStore-CxFOKjg-.js";const S={computed:{...y(l,["products","pagination","loadingStatus","loadingIcon"])},components:{PaginationComponent:b,LoadingOverlay:v},methods:{...k(l,["renderProducts","addToCart"]),viewDetail(n){this.products.find(d=>d.id===n)&&this.$router.push(`products/${n}`)}},mounted(){this.renderProducts()}},L={class:"container"},V={class:"mt-4"},w={class:"table align-middle"},I=t("thead",null,[t("tr",null,[t("th",null,"圖片"),t("th",null,"商品名稱"),t("th",null,"價格"),t("th")])],-1),N={style:{width:"200px"}},B={key:0,class:"h5"},D={key:1,class:"h6"},E={key:2,class:"h5"},O={class:"btn-group btn-group-sm"},T=["onClick"],z=["onClick","disabled"],F={key:0,class:"fas fa-spinner fa-pulse"};function U(n,r,d,A,j,g){const _=c("LoadingOverlay"),h=c("PaginationComponent");return e(),s(p,null,[u(_,{active:n.loadingStatus,"onUpdate:active":r[0]||(r[0]=o=>n.loadingStatus=o),"is-full-page":!0},null,8,["active"]),t("div",L,[t("div",V,[t("table",w,[I,t("tbody",null,[(e(!0),s(p,null,P(n.products,o=>(e(),s("tr",{key:o.id},[t("td",N,[t("div",{style:C([{height:"100px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}])},null,4)]),t("td",null,a(o.title),1),t("td",null,[o.price?i("",!0):(e(),s("div",B,a(o.origin_price)+" 元",1)),o.price?(e(),s("del",D,"原價 "+a(o.origin_price)+" 元",1)):i("",!0),o.price?(e(),s("div",E,"現在只要 "+a(o.price)+" 元",1)):i("",!0)]),t("td",null,[t("div",O,[t("button",{type:"button",class:"btn btn-outline-secondary",onClick:m=>g.viewDetail(o.id)}," 查看更多 ",8,T),t("button",{type:"button",class:"btn btn-outline-danger",onClick:m=>n.addToCart(o.id),disabled:n.loadingIcon===o.id||!o.is_enabled},[n.loadingIcon===o.id?(e(),s("i",F)):i("",!0),$(" 加到購物車 ")],8,z)])])]))),128))])]),u(h,{pages:n.pagination,onEmitPages:n.renderProducts},null,8,["pages","onEmitPages"])])])],64)}const K=f(S,[["render",U]]);export{K as default};
