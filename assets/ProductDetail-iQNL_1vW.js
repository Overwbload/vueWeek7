import{L as m}from"./LoadingOverlay-BaGJTY_t.js";import{p as d}from"./productsStore-DcuAJhj6.js";import{_ as g,m as y,f as h,h as v,r as f,o as a,c as i,b as _,a as e,t as r,F as c,g as b,e as n,i as k,v as q,d as S}from"./index-Bs_37LNX.js";import"./cartStore-BFUONUjG.js";const B={data(){return{}},computed:{qty:{get(){return d().qty},set(t){d().qty=t}},...y(d,["product","loadingStatus","loadingIcon","pageBack"])},components:{LoadingOverlay:m},methods:{...h(d,["getDetail","addToCart","validateQty"])},mounted(){this.getDetail(this.$route.params.id),v(()=>{this.pageBack&&this.$router.go(-1)})}},C={class:"container mt-4"},D={class:"bg-dark text-white"},L={class:"p-3"},V={class:"row"},w={class:"col-sm-6"},I=["src"],N=["src"],T={class:"col-sm-6"},U={class:"badge bg-primary rounded-pill my-2"},$={class:"my-2"},O={key:0,class:"h5"},Q={key:1,class:"h6"},E={key:2,class:"h5"},F={class:"input-group"},A=["disabled"],M={key:0,class:"fas fa-spinner fa-pulse"};function P(t,s,j,z,G,l){const u=f("LoadingOverlay");return a(),i(c,null,[_(u,{active:t.loadingStatus,"onUpdate:active":s[0]||(s[0]=o=>t.loadingStatus=o),"is-full-page":!0},null,8,["active"]),e("div",C,[e("div",D,[e("h5",L,r(t.product.title),1)]),e("div",V,[e("div",w,[e("img",{class:"img-fluid mb-2",src:t.product.imageUrl,alt:""},null,8,I),(a(!0),i(c,null,b(t.product.imagesUrl,(o,p)=>(a(),i("span",{key:p},[e("img",{class:"img-fluid",src:o},null,8,N)]))),128))]),e("div",T,[e("span",U,r(t.product.category),1),e("h5",$,"商品描述："+r(t.product.description),1),e("h5",null,"商品內容："+r(t.product.content),1),t.product.price?n("",!0):(a(),i("div",O,r()+" 元",1)),t.product.price?(a(),i("del",Q,"原價 "+r(t.product.origin_price)+" 元",1)):n("",!0),t.product.price?(a(),i("div",E,"現在只要 "+r(t.product.price)+" 元",1)):n("",!0),e("div",null,[e("div",F,[k(e("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":s[1]||(s[1]=o=>l.qty=o),onInput:s[2]||(s[2]=(...o)=>t.validateQty&&t.validateQty(...o))},null,544),[[q,l.qty,void 0,{number:!0}]]),e("button",{type:"button",class:"btn btn-primary",onClick:s[3]||(s[3]=o=>t.addToCart(t.product.id,l.qty)),disabled:t.loadingIcon===t.product.id},[t.loadingIcon===t.product.id?(a(),i("i",M)):n("",!0),S(" 加入購物車 ")],8,A)])])])])])],64)}const W=g(B,[["render",P]]);export{W as default};
